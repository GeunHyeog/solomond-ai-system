{
  "name": "SOLOMOND Dual Brain Pipeline",
  "active": true,
  "nodes": [
    {
      "id": "webhook_trigger",
      "name": "분석 완료 트리거",
      "type": "n8n-nodes-base.webhook",
      "typeVersion": 1.1,
      "position": [250, 300],
      "parameters": {
        "httpMethod": "POST",
        "path": "analysis-complete",
        "responseMode": "responseNode",
        "options": {}
      }
    },
    {
      "id": "status_check",
      "name": "상태 확인",
      "type": "n8n-nodes-base.function",
      "typeVersion": 1,
      "position": [450, 300],
      "parameters": {
        "functionCode": "// SOLOMOND AI 분석 결과 처리\nconst analysisData = $input.all()[0].json;\n\n// 분석 성공 여부 확인\nconst isSuccess = analysisData.success_count > 0;\nconst totalFiles = analysisData.total_files || 0;\nconst successCount = analysisData.success_count || 0;\n\n// 처리된 데이터 반환\nreturn [{\n  json: {\n    ...analysisData,\n    processed: true,\n    timestamp: new Date().toISOString(),\n    success_rate: totalFiles > 0 ? (successCount / totalFiles) * 100 : 0,\n    calendar_ready: isSuccess,\n    analysis_title: `🎯 SOLOMOND AI 분석: ${analysisData.pre_info?.conference_name || 'Unknown'}`,\n    calendar_description: `📊 솔로몬드 AI 분석 결과\\n\\n🎯 컨퍼런스: ${analysisData.pre_info?.conference_name || 'Unknown'}\\n📅 분석일시: ${analysisData.timestamp}\\n📁 분석파일: ${totalFiles}개\\n✅ 성공률: ${successCount}/${totalFiles} (${Math.round(totalFiles > 0 ? (successCount / totalFiles) * 100 : 0)}%)\\n\\n🤖 Generated by SOLOMOND AI Dual Brain System`\n  }\n}];"
      }
    },
    {
      "id": "calendar_event",
      "name": "캘린더 이벤트 생성",
      "type": "n8n-nodes-base.googleCalendar",
      "typeVersion": 2,
      "position": [650, 300],
      "parameters": {
        "resource": "event",
        "operation": "create",
        "calendarId": {
          "__rl": true,
          "value": "primary",
          "mode": "list"
        },
        "summary": "={{ $json.analysis_title }}",
        "description": "={{ $json.calendar_description }}",
        "startDate": "={{ new Date().toISOString() }}",
        "endDate": "={{ new Date(Date.now() + 3600000).toISOString() }}",
        "additionalFields": {
          "colorId": "9",
          "attendees": "solomond.jgh@gmail.com"
        }
      },
      "credentials": {
        "googleCalendarOAuth2Api": {
          "id": "GOOGLE_CALENDAR_CREDENTIAL_ID"
        }
      }
    },
    {
      "id": "response_node",
      "name": "응답",
      "type": "n8n-nodes-base.respondToWebhook",
      "typeVersion": 1.1,
      "position": [850, 300],
      "parameters": {
        "respondWith": "json",
        "responseBody": "={{ { \"status\": \"success\", \"message\": \"SOLOMOND AI 듀얼 브레인 처리 완료\", \"analysis_id\": $('상태 확인').item.json.analysis_id, \"calendar_event\": $('캘린더 이벤트 생성').item.json.id, \"timestamp\": new Date().toISOString() } }}"
      }
    }
  ],
  "connections": {
    "분석 완료 트리거": {
      "main": [
        [
          {
            "node": "상태 확인",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "상태 확인": {
      "main": [
        [
          {
            "node": "캘린더 이벤트 생성",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "캘린더 이벤트 생성": {
      "main": [
        [
          {
            "node": "응답",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "settings": {
    "executionOrder": "v1"
  }
}